"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[323],{9323:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var s=a(9835);const l={class:"q-pa-md"},o={class:"q-pa-md fit",style:{"max-width":"300px"}},n={class:"q-pa-md column"},i={class:"q-pa-md column"},r={class:"column"},d={class:"row"},m={class:"col-1"};function c(e,t,a,c,h,p){const u=(0,s.up)("q-input"),f=(0,s.up)("q-btn"),g=(0,s.up)("q-select"),v=(0,s.up)("date-block"),b=(0,s.up)("q-card");return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",o,[(0,s._)("div",n,[(0,s.Wm)(u,{modelValue:h.names,"onUpdate:modelValue":t[0]||(t[0]=e=>h.names=e),filled:"",type:"textarea"},null,8,["modelValue"]),(0,s.Wm)(f,{color:"primary",label:"Primary",onClick:p.arrangeShiftList},null,8,["onClick"])]),(0,s._)("div",i,[(0,s.Wm)(g,{filled:"",modelValue:h.oneName,"onUpdate:modelValue":[t[1]||(t[1]=e=>h.oneName=e),p.sortSpecify],options:h.options,label:"Filled"},null,8,["modelValue","options","onUpdate:modelValue"]),(0,s.Wm)(g,{filled:"","emit-value":"","map-options":"",modelValue:h.month,"onUpdate:modelValue":[t[2]||(t[2]=e=>h.month=e),p.sortSpecify],options:h.monthOptions,label:"Filled"},null,8,["modelValue","options","onUpdate:modelValue"])])]),(0,s.Wm)(b,{flat:"",bordered:"",class:"fit"},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s._)("div",d,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(h.shiftDates,(e=>((0,s.wg)(),(0,s.iD)("div",m,[(0,s.Wm)(v,{date:e.date,dateName:e.week,reason:e.description,name:e.name,class:"q-pa-md"},null,8,["date","dateName","reason","name"])])))),256))])])])),_:1})])}a(2879);var h=a(6970);const p={class:"row justify-center",style:{height:"60px"}},u={class:"text-red-7"},f={class:"row justify-center text-h5 q-pt-md"};function g(e,t,a,l,o,n){const i=(0,s.up)("q-separator"),r=(0,s.up)("q-card");return(0,s.wg)(),(0,s.j4)(r,{flat:"",bordered:"",class:"column"},{default:(0,s.w5)((()=>[(0,s._)("div",p,[(0,s._)("p",null,(0,h.zw)(a.date)+" ("+(0,h.zw)(a.dateName)+")",1),(0,s._)("p",u,(0,h.zw)(a.reason),1)]),(0,s.Wm)(i),(0,s._)("p",f,(0,h.zw)(a.name),1)])),_:1})}const v={name:"DateBlock",props:["date","dateName","reason","name"]};var b=a(1639),w=a(4458),D=a(926),S=a(9984),y=a.n(S);const q=(0,b.Z)(v,[["render",g]]),_=q;y()(v,"components",{QCard:w.Z,QSeparator:D.Z});var k=a(9612);const V={name:"MainLayout",components:{DateBlock:_},data(){return{shiftDates:[],names:"",oneName:"",text:"",dates:[],options:[],fDate:"",lDate:"",year:(new Date).getFullYear(),month:(new Date).getMonth()+1,monthOptions:[{value:1,label:"1月"},{value:2,label:"2月"},{value:3,label:"3月"},{value:4,label:"4月"},{value:5,label:"5月"},{value:6,label:"6月"},{value:7,label:"7月"},{value:8,label:"8月"},{value:9,label:"9月"},{value:10,label:"10月"},{value:11,label:"11月"},{value:12,label:"12月"}]}},created(){null===localStorage.getItem("shiftList")&&localStorage.setItem("shiftList","唯翔\n家齊"),this.names=localStorage.getItem("shiftList"),this.options=this.names.replace(",","").split("\n"),this.oneName=this.options[0];let e=k.Z.create({baseURL:"https://cdn.jsdelivr.net/gh/ruyut/TaiwanCalendar/data"});e.get("/"+this.year+".json").then((e=>{this.dates=e.data,this.getShiftDates()}))},methods:{getShiftDates(){this.arrangeShiftDates(this.dates)},arrangeShiftDates(e,t){this.shiftDates=[],console.log(e);let a=0,s=t||this.options;this.showDate.forEach((e=>{if(console.log(e),a>=this.options.length&&(a=0),!e.isHoliday){let t={};t.date=e.date,t.week=e.week,t.description=e.description,t.name=s[a],a+=1,this.shiftDates.push(t)}})),this.names=this.names.toString().split(",").join("\n")},arrangeShiftList(){localStorage.setItem("shiftList",this.names),this.options=this.names.replace(",","").split("\n"),this.oneName=this.options[0],this.getShiftDates()},sortSpecify(){let e=this.names.replace(",","").split("\n"),t=[],a=e.indexOf(this.oneName);const s=e.slice(a),l=e.slice(0,a);t=s.concat(l),this.arrangeShiftDates(this.dates,t)}},computed:{showDate(){const e=(this.month<10?"0":"")+this.month,t=`${this.year}${e}`;return this.dates.filter((e=>e.date.startsWith(t)))}}};var N=a(6611),Z=a(9379),j=a(1824);const x=(0,b.Z)(V,[["render",c]]),L=x;y()(V,"components",{QInput:N.Z,QBtn:Z.Z,QSelect:j.Z,QCard:w.Z})}}]);